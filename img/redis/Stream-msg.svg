<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1512px" height="1002px" viewBox="-0.5 -0.5 1512 1002" content="&lt;mxfile host=&quot;www.draw.io&quot; modified=&quot;2020-06-29T13:11:53.173Z&quot; agent=&quot;5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.106 Safari/537.36&quot; etag=&quot;MT03UuE-DJz6kwvK9TJo&quot; version=&quot;13.1.1&quot; type=&quot;google&quot;&gt;&lt;diagram id=&quot;1v4qpvREUQ6utMAZFO0l&quot; name=&quot;第 1 页&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs><linearGradient x1="0%" y1="0%" x2="0%" y2="100%" id="mx-gradient-f5f5f5-1-b3b3b3-1-s-0"><stop offset="0%" style="stop-color:#f5f5f5"/><stop offset="100%" style="stop-color:#b3b3b3"/></linearGradient></defs><g><path d="M 431 689 L 431 666 L 991 666 L 991 689" fill="none" stroke="none" pointer-events="all"/><g fill="#FF0080" font-family="Helvetica" font-weight="bold" text-anchor="middle" font-size="12px"><text x="710.5" y="682">Stream 消息流</text></g><path d="M 441 699 L 521 699 L 541 727.5 L 521 756 L 441 756 L 461 727.5 Z" fill="#ffe6cc" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="490.5" y="732">Stream 1</text></g><path d="M 529 699 L 609 699 L 629 727.5 L 609 756 L 529 756 L 549 727.5 Z" fill="#ffe6cc" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="578.5" y="732">Stream 2</text></g><path d="M 617 699 L 697 699 L 717 727.5 L 697 756 L 617 756 L 637 727.5 Z" fill="#ffe6cc" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="666.5" y="732">Stream 3</text></g><path d="M 705 699 L 785 699 L 805 727.5 L 785 756 L 705 756 L 725 727.5 Z" fill="#ffe6cc" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="754.5" y="732">Stream 4</text></g><path d="M 793 699 L 873 699 L 893 727.5 L 873 756 L 793 756 L 813 727.5 Z" fill="#ffe6cc" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="842.5" y="732">Stream 5</text></g><path d="M 881 699 L 961 699 L 981 727.5 L 961 756 L 881 756 L 901 727.5 Z" fill="#ffe6cc" stroke="#d79b00" stroke-miterlimit="10" pointer-events="none"/><g fill="#000000" font-family="Helvetica" text-anchor="middle" font-size="12px"><text x="930.5" y="732">Stream 6</text></g><path d="M 431 728 L 431 728" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 431 728 L 431 728 L 431 728 L 431 728 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 261 766 C 261 730 261 712 291 712 C 271 712 271 676 291 676 C 311 676 311 712 291 712 C 321 712 321 730 321 766 Z" fill="#d80073" stroke="#a50040" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 58px; height: 1px; padding-top: 721px; margin-left: 262px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #ffffff; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><br /><br />生产者</div></div></div></foreignObject><text x="291" y="725" fill="#ffffff" font-family="Helvetica" font-size="12px" text-anchor="middle">生产者...</text></switch></g><path d="M 331 720.45 L 411 720.45 L 411 700.5 L 431 729 L 411 757.5 L 411 737.55 L 331 737.55 Z" fill="#ffffff" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 991px; margin-left: 571px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; "><b>普通消费者</b></div></div></div></foreignObject><text x="571" y="995" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">普通消费者</text></switch></g><path d="M 561 486 L 561 467.7 C 563.57 461.54 567.52 456.72 572.23 453.98 C 573.6 453.4 575.03 453.18 576.45 453.32 C 576.42 458.98 579.44 463.77 583.47 464.43 C 585.66 464.61 587.8 463.52 589.4 461.42 C 591 459.32 591.9 456.39 591.89 453.32 C 593.59 453.02 595.32 453.25 596.95 453.98 C 600.85 456.85 603.75 461.8 605 467.7 L 605 486 Z M 591.89 453.32 C 591.9 456.39 591 459.32 589.4 461.42 C 587.8 463.52 585.66 464.61 583.47 464.43 C 579.44 463.77 576.42 458.98 576.45 453.32 C 577.24 453.22 578.03 453 578.79 452.67 L 579.26 450.06 C 577.77 449.57 576.55 448.11 575.98 446.14 C 574.76 442.89 575.96 439.28 578.94 437.25 C 581.91 435.21 585.96 435.21 588.94 437.25 C 591.91 439.28 593.11 442.89 591.89 446.14 C 591.11 448.14 589.75 449.57 588.15 450.06 L 588.62 452.67 Z" fill="#b0e3e6" stroke="#0e8088" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 568.49 475.54 L 568.49 485.35 M 596.11 475.54 L 596.11 485.35" fill="none" stroke="#0e8088" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 575.98 446.14 C 573.88 443.22 573.32 438.77 574.57 435.03 C 576.16 430.08 579.59 426.8 583.47 426.53 C 587.85 426 591.98 429.41 593.77 435.03 C 594.91 438.91 594.16 443.37 591.89 446.14 C 592.03 444.09 591.7 442.03 590.96 440.25 C 588.99 438.53 586.53 438.29 584.4 439.6 C 582.15 438.05 579.47 438.3 577.38 440.25 C 576.47 441.95 575.98 444.01 575.98 446.14 Z" fill="#000000" stroke="#0e8088" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 598 486 L 598 586 L 641 586 L 641 689.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 641 694.88 L 637.5 687.88 L 641 689.63 L 644.5 687.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 576 486 L 576 467.7 C 578.57 461.54 582.52 456.72 587.23 453.98 C 588.6 453.4 590.03 453.18 591.45 453.32 C 591.42 458.98 594.44 463.77 598.47 464.43 C 600.66 464.61 602.8 463.52 604.4 461.42 C 606 459.32 606.9 456.39 606.89 453.32 C 608.59 453.02 610.32 453.25 611.95 453.98 C 615.85 456.85 618.75 461.8 620 467.7 L 620 486 Z M 606.89 453.32 C 606.9 456.39 606 459.32 604.4 461.42 C 602.8 463.52 600.66 464.61 598.47 464.43 C 594.44 463.77 591.42 458.98 591.45 453.32 C 592.24 453.22 593.03 453 593.79 452.67 L 594.26 450.06 C 592.77 449.57 591.55 448.11 590.98 446.14 C 589.76 442.89 590.96 439.28 593.94 437.25 C 596.91 435.21 600.96 435.21 603.94 437.25 C 606.91 439.28 608.11 442.89 606.89 446.14 C 606.11 448.14 604.75 449.57 603.15 450.06 L 603.62 452.67 Z" fill="#b0e3e6" stroke="#0e8088" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 583.49 475.54 L 583.49 485.35 M 611.11 475.54 L 611.11 485.35" fill="none" stroke="#0e8088" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 590.98 446.14 C 588.88 443.22 588.32 438.77 589.57 435.03 C 591.16 430.08 594.59 426.8 598.47 426.53 C 602.85 426 606.98 429.41 608.77 435.03 C 609.91 438.91 609.16 443.37 606.89 446.14 C 607.03 444.09 606.7 442.03 605.96 440.25 C 603.99 438.53 601.53 438.29 599.4 439.6 C 597.15 438.05 594.47 438.3 592.38 440.25 C 591.47 441.95 590.98 444.01 590.98 446.14 Z" fill="#000000" stroke="#0e8088" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 640 456 L 953 456 L 953 332.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 953 327.12 L 956.5 334.12 L 953 332.37 L 949.5 334.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 640 456 L 953 456 L 953 579.63" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 953 584.88 L 949.5 577.88 L 953 579.63 L 956.5 577.88 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 596 486 L 596 467.7 C 598.57 461.54 602.52 456.72 607.23 453.98 C 608.6 453.4 610.03 453.18 611.45 453.32 C 611.42 458.98 614.44 463.77 618.47 464.43 C 620.66 464.61 622.8 463.52 624.4 461.42 C 626 459.32 626.9 456.39 626.89 453.32 C 628.59 453.02 630.32 453.25 631.95 453.98 C 635.85 456.85 638.75 461.8 640 467.7 L 640 486 Z M 626.89 453.32 C 626.9 456.39 626 459.32 624.4 461.42 C 622.8 463.52 620.66 464.61 618.47 464.43 C 614.44 463.77 611.42 458.98 611.45 453.32 C 612.24 453.22 613.03 453 613.79 452.67 L 614.26 450.06 C 612.77 449.57 611.55 448.11 610.98 446.14 C 609.76 442.89 610.96 439.28 613.94 437.25 C 616.91 435.21 620.96 435.21 623.94 437.25 C 626.91 439.28 628.11 442.89 626.89 446.14 C 626.11 448.14 624.75 449.57 623.15 450.06 L 623.62 452.67 Z" fill="#b0e3e6" stroke="#0e8088" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 603.49 475.54 L 603.49 485.35 M 631.11 475.54 L 631.11 485.35" fill="none" stroke="#0e8088" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 610.98 446.14 C 608.88 443.22 608.32 438.77 609.57 435.03 C 611.16 430.08 614.59 426.8 618.47 426.53 C 622.85 426 626.98 429.41 628.77 435.03 C 629.91 438.91 629.16 443.37 626.89 446.14 C 627.03 444.09 626.7 442.03 625.96 440.25 C 623.99 438.53 621.53 438.29 619.4 439.6 C 617.15 438.05 614.47 438.3 612.38 440.25 C 611.47 441.95 610.98 444.01 610.98 446.14 Z" fill="#000000" stroke="#0e8088" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 931 646 L 931 627.7 C 933.57 621.54 937.52 616.72 942.23 613.98 C 943.6 613.4 945.03 613.18 946.45 613.32 C 946.42 618.98 949.44 623.77 953.47 624.43 C 955.66 624.61 957.8 623.52 959.4 621.42 C 961 619.32 961.9 616.39 961.89 613.32 C 963.59 613.02 965.32 613.25 966.95 613.98 C 970.85 616.85 973.75 621.8 975 627.7 L 975 646 Z M 961.89 613.32 C 961.9 616.39 961 619.32 959.4 621.42 C 957.8 623.52 955.66 624.61 953.47 624.43 C 949.44 623.77 946.42 618.98 946.45 613.32 C 947.24 613.22 948.03 613 948.79 612.67 L 949.26 610.06 C 947.77 609.57 946.55 608.11 945.98 606.14 C 944.76 602.89 945.96 599.28 948.94 597.25 C 951.91 595.21 955.96 595.21 958.94 597.25 C 961.91 599.28 963.11 602.89 961.89 606.14 C 961.11 608.14 959.75 609.57 958.15 610.06 L 958.62 612.67 Z" fill="#b0e3e6" stroke="#0e8088" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 938.49 635.54 L 938.49 645.35 M 966.11 635.54 L 966.11 645.35" fill="none" stroke="#0e8088" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 945.98 606.14 C 943.88 603.22 943.32 598.77 944.57 595.03 C 946.16 590.08 949.59 586.8 953.47 586.53 C 957.85 586 961.98 589.41 963.77 595.03 C 964.91 598.91 964.16 603.37 961.89 606.14 C 962.03 604.09 961.7 602.03 960.96 600.25 C 958.99 598.53 956.53 598.29 954.4 599.6 C 952.15 598.05 949.47 598.3 947.38 600.25 C 946.47 601.95 945.98 604.01 945.98 606.14 Z" fill="#000000" stroke="#0e8088" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 931 326 L 931 307.7 C 933.57 301.54 937.52 296.72 942.23 293.98 C 943.6 293.4 945.03 293.18 946.45 293.32 C 946.42 298.98 949.44 303.77 953.47 304.43 C 955.66 304.61 957.8 303.52 959.4 301.42 C 961 299.32 961.9 296.39 961.89 293.32 C 963.59 293.02 965.32 293.25 966.95 293.98 C 970.85 296.85 973.75 301.8 975 307.7 L 975 326 Z M 961.89 293.32 C 961.9 296.39 961 299.32 959.4 301.42 C 957.8 303.52 955.66 304.61 953.47 304.43 C 949.44 303.77 946.42 298.98 946.45 293.32 C 947.24 293.22 948.03 293 948.79 292.67 L 949.26 290.06 C 947.77 289.57 946.55 288.11 945.98 286.14 C 944.76 282.89 945.96 279.28 948.94 277.25 C 951.91 275.21 955.96 275.21 958.94 277.25 C 961.91 279.28 963.11 282.89 961.89 286.14 C 961.11 288.14 959.75 289.57 958.15 290.06 L 958.62 292.67 Z" fill="#b0e3e6" stroke="#0e8088" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 938.49 315.54 L 938.49 325.35 M 966.11 315.54 L 966.11 325.35" fill="none" stroke="#0e8088" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 945.98 286.14 C 943.88 283.22 943.32 278.77 944.57 275.03 C 946.16 270.08 949.59 266.8 953.47 266.53 C 957.85 266 961.98 269.41 963.77 275.03 C 964.91 278.91 964.16 283.37 961.89 286.14 C 962.03 284.09 961.7 282.03 960.96 280.25 C 958.99 278.53 956.53 278.29 954.4 279.6 C 952.15 278.05 949.47 278.3 947.38 280.25 C 946.47 281.95 945.98 284.01 945.98 286.14 Z" fill="#000000" stroke="#0e8088" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 547 946 L 491 946 L 491 762.37" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 491 757.12 L 494.5 764.12 L 491 762.37 L 487.5 764.12 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><path d="M 547 976 L 547 957.7 C 549.57 951.54 553.52 946.72 558.23 943.98 C 559.6 943.4 561.03 943.18 562.45 943.32 C 562.42 948.98 565.44 953.77 569.47 954.43 C 571.66 954.61 573.8 953.52 575.4 951.42 C 577 949.32 577.9 946.39 577.89 943.32 C 579.59 943.02 581.32 943.25 582.95 943.98 C 586.85 946.85 589.75 951.8 591 957.7 L 591 976 Z M 577.89 943.32 C 577.9 946.39 577 949.32 575.4 951.42 C 573.8 953.52 571.66 954.61 569.47 954.43 C 565.44 953.77 562.42 948.98 562.45 943.32 C 563.24 943.22 564.03 943 564.79 942.67 L 565.26 940.06 C 563.77 939.57 562.55 938.11 561.98 936.14 C 560.76 932.89 561.96 929.28 564.94 927.25 C 567.91 925.21 571.96 925.21 574.94 927.25 C 577.91 929.28 579.11 932.89 577.89 936.14 C 577.11 938.14 575.75 939.57 574.15 940.06 L 574.62 942.67 Z" fill="url(#mx-gradient-f5f5f5-1-b3b3b3-1-s-0)" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 554.49 965.54 L 554.49 975.35 M 582.11 965.54 L 582.11 975.35" fill="none" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><path d="M 561.98 936.14 C 559.88 933.22 559.32 928.77 560.57 925.03 C 562.16 920.08 565.59 916.8 569.47 916.53 C 573.85 916 577.98 919.41 579.77 925.03 C 580.91 928.91 580.16 933.37 577.89 936.14 C 578.03 934.09 577.7 932.03 576.96 930.25 C 574.99 928.53 572.53 928.29 570.4 929.6 C 568.15 928.05 565.47 928.3 563.38 930.25 C 562.47 931.95 561.98 934.01 561.98 936.14 Z" fill="#000000" stroke="#666666" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 406px; margin-left: 596px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; "><b>消费组</b></div></div></div></foreignObject><text x="596" y="410" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">消费组</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 296px; margin-left: 886px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; "><b><font color="#009999">组内消费者 A</font></b></div></div></div></foreignObject><text x="886" y="300" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">组内消费者 A</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 616px; margin-left: 886px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #000000; line-height: 1.2; pointer-events: none; white-space: nowrap; "><b><font color="#009999">组内消费者 B</font></b></div></div></div></foreignObject><text x="886" y="620" fill="#000000" font-family="Helvetica" font-size="12px" text-anchor="middle">组内消费者 B</text></switch></g><path d="M 175 577 L 585 577 L 585 647 L 365.7 647 L 289.8 667 L 326.7 647 L 175 647 Z" fill="#ffffff" stroke="#67ab9f" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 408px; height: 1px; padding-top: 612px; margin-left: 177px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0080; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><b>生产者生产一条 key 为 mq 的消息并返回 streamID：</b><br /><div><br /></div><div><font color="#1a1a1a"><b>Redis-1&gt; XADD mq * name bonismo age 20</b></font></div><div><font color="#1a1a1a"><b>"1593434381226-0"</b></font></div></div></div></div></foreignObject><text x="177" y="616" fill="#FF0080" font-family="Helvetica" font-size="12px">生产者生产一条 key 为 mq 的消息并返回 streamID：...</text></switch></g><path d="M 596 786 L 1076 786 L 1076 926 L 664 926 L 596 951 L 644 926 L 596 926 Z" fill="#ffffff" stroke="#67ab9f" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 478px; height: 1px; padding-top: 856px; margin-left: 598px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0080; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><b>普通消费者从 0 开始消费 mq 的消息并返回消息内容：</b><br /><div><br /></div><div><div><font color="#1a1a1a"><b>Redis-2&gt; XREAD STREAMS mq 0</b></font></div><div><font color="#1a1a1a"><b>1) 1) "mq"</b></font></div><div><font color="#1a1a1a"><b>   2) 1) 1) "1593434693720-0"</b></font></div><div><font color="#1a1a1a"><b>         2) 1) "name"</b></font></div><div><font color="#1a1a1a"><b>            2) "bonismo"</b></font></div><div><font color="#1a1a1a"><b>            3) "age"</b></font></div><div><font color="#1a1a1a"><b>            4) "20"</b></font></div></div></div></div></div></foreignObject><text x="598" y="860" fill="#FF0080" font-family="Helvetica" font-size="12px">普通消费者从 0 开始消费 mq 的消息并返回消息内容：...</text></switch></g><path d="M 337 296 L 765 296 L 765 396 L 534.36 396 L 563.84 416 L 495.36 396 L 337 396 Z" fill="#ffffff" stroke="#67ab9f" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 426px; height: 1px; padding-top: 346px; margin-left: 339px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0080; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><b>创建消费组，并从 0 （第一条开始消费，如果是 $，则代表消费组只能消费组创建后的消息）</b><br /><div><br /></div><div><div><font color="#1a1a1a"><b>Redis-3&gt; XGROUP CREATE mq mqGroup 0</b></font></div><div><font color="#1a1a1a"><b>OK</b></font></div><div><font color="#1a1a1a"><b>Redis-3&gt; XLEN mq</b></font></div><div><font color="#1a1a1a"><b>(integer) 1</b></font></div></div></div></div></div></foreignObject><text x="339" y="350" fill="#FF0080" font-family="Helvetica" font-size="12px">创建消费组，并从 0 （第一条开始消费，如果是 $，则代表消费组只能消费组创建后的消息）...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 566px; margin-left: 195px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0080; line-height: 1.2; pointer-events: none; white-space: nowrap; "><b>          Redis 客户端1</b></div></div></div></foreignObject><text x="195" y="570" fill="#FF0080" font-family="Helvetica" font-size="12px" text-anchor="middle">          Redis 客户端1</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 776px; margin-left: 676px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0080; line-height: 1.2; pointer-events: none; white-space: nowrap; "><b>Redis 客户端2 - 非阻塞模式</b></div></div></div></foreignObject><text x="676" y="780" fill="#FF0080" font-family="Helvetica" font-size="12px" text-anchor="middle">Redis 客户端2 - 非阻塞模式</text></switch></g><path d="M 975 106 L 1505 106 L 1505 246 L 1072.7 246 L 975 286 L 1022.7 246 L 975 246 Z" fill="#ffffff" stroke="#67ab9f" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 528px; height: 1px; padding-top: 176px; margin-left: 977px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0080; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><b>组内消费者 A 消费消息</b><br /><div><br /></div><div><div><font color="#1a1a1a"><b>Redis-3&gt; XREADGROUP GROUP mqGroup consumerA COUNT 1 STREAMS mq &gt;</b></font></div><div><font color="#1a1a1a"><b>1) 1) "mq"</b></font></div><div><font color="#1a1a1a"><b>   2) 1) 1) "1593435118418-0"</b></font></div><div><font color="#1a1a1a"><b>         2) 1) "name"</b></font></div><div><font color="#1a1a1a"><b>            2) "bonismo"</b></font></div><div><font color="#1a1a1a"><b>            3) "age"</b></font></div><div><font color="#1a1a1a"><b>            4) "20"</b></font></div></div></div></div></div></foreignObject><text x="977" y="180" fill="#FF0080" font-family="Helvetica" font-size="12px">组内消费者 A 消费消息...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 286px; margin-left: 366px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0080; line-height: 1.2; pointer-events: none; white-space: nowrap; "><b>          Redis 客户端3</b></div></div></div></foreignObject><text x="366" y="290" fill="#FF0080" font-family="Helvetica" font-size="12px" text-anchor="middle">          Redis 客户端3</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 426px; margin-left: 1031px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0080; line-height: 1.2; pointer-events: none; white-space: nowrap; "><b>          Redis 客户端3 - 阻塞消费</b></div></div></div></foreignObject><text x="1031" y="430" fill="#FF0080" font-family="Helvetica" font-size="12px" text-anchor="middle">          Redis 客户端3 - 阻塞消费</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 776px; margin-left: 76px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0080; line-height: 1.2; pointer-events: none; white-space: nowrap; "><b>Redis 客户端2 - 阻塞模式</b></div></div></div></foreignObject><text x="76" y="780" fill="#FF0080" font-family="Helvetica" font-size="12px" text-anchor="middle">Redis 客户端2 - 阻塞模式</text></switch></g><path d="M 1 786 L 481 786 L 481 926 L 419.4 926 L 481 951 L 399.4 926 L 1 926 Z" fill="#ffffff" stroke="#67ab9f" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 478px; height: 1px; padding-top: 856px; margin-left: 3px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0080; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><b>普通消费者从 0 开始消费 mq 的消息并返回消息内容：</b><br /><div><br /></div><div><div><font color="#1a1a1a"><b>Redis-2&gt; XREAD BLOCK 0 STREAMS mq $</b></font></div><div><font color="#1a1a1a"><b>1) 1) "mq"</b></font></div><div><font color="#1a1a1a"><b>   2) 1) 1) "1593434693720-0"</b></font></div><div><font color="#1a1a1a"><b>         2) 1) "name"</b></font></div><div><font color="#1a1a1a"><b>            2) "bonismo"</b></font></div><div><font color="#1a1a1a"><b>            3) "age"</b></font></div><div><font color="#1a1a1a"><b>            4) "20"</b></font></div></div></div></div></div></foreignObject><text x="3" y="860" fill="#FF0080" font-family="Helvetica" font-size="12px">普通消费者从 0 开始消费 mq 的消息并返回消息内容：...</text></switch></g><path d="M 981 436 L 1511 436 L 1511 576 L 1071.3 576 L 981 616 L 1039.3 576 L 981 576 Z" fill="#ffffff" stroke="#67ab9f" stroke-width="2" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 528px; height: 1px; padding-top: 506px; margin-left: 983px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0080; line-height: 1.2; pointer-events: none; white-space: normal; word-wrap: normal; "><b>组内消费者 B 消费消息</b><br /><div><br /></div><div><div><font color="#1a1a1a"><b>Redis-3&gt; XREADGROUP GROUP mqGroup consumerB COUNT 1 BLOCK 0 STREAMS mq &gt;</b></font></div><div><font color="#1a1a1a"><b>1) 1) "mq"</b></font></div><div><font color="#1a1a1a"><b>   2) 1) 1) "1593435118418-0"</b></font></div><div><font color="#1a1a1a"><b>         2) 1) "name"</b></font></div><div><font color="#1a1a1a"><b>            2) "bonismo"</b></font></div><div><font color="#1a1a1a"><b>            3) "age"</b></font></div><div><font color="#1a1a1a"><b>            4) "20"</b></font></div></div></div></div></div></foreignObject><text x="983" y="510" fill="#FF0080" font-family="Helvetica" font-size="12px">组内消费者 B 消费消息...</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 96px; margin-left: 1031px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0080; line-height: 1.2; pointer-events: none; white-space: nowrap; "><b>          Redis 客户端3 - 非阻塞消费</b></div></div></div></foreignObject><text x="1031" y="100" fill="#FF0080" font-family="Helvetica" font-size="12px" text-anchor="middle">          Redis 客户端3 - 非阻塞消费</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 16px; margin-left: 711px;"><div style="box-sizing: border-box; font-size: 0; text-align: center; "><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: #FF0080; line-height: 1.2; pointer-events: none; white-space: nowrap; "><b><font style="font-size: 27px" color="#1a1a1a">Redis Stream 消息模型</font></b></div></div></div></foreignObject><text x="711" y="20" fill="#FF0080" font-family="Helvetica" font-size="12px" text-anchor="middle">Redis Stream 消息模型</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>